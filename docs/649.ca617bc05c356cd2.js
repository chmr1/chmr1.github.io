"use strict";(self.webpackChunkmyApp=self.webpackChunkmyApp||[]).push([[649],{4649:(A,m,c)=>{c.r(m),c.d(m,{EventTypeModule:()=>C});var v=c(646),r=c(433),h=c(5245),l=c(9919);class f{constructor(i,t,o){this.id=i,this.description=t,this.isActive=o}}var e=c(8256),d=c(5228),p=c(9837);let T=(()=>{class n{constructor(t,o,s,a){this.eventTypeService=t,this.activatedRoute=o,this.fb=s,this.activeModal=a,this.isSaving=!1,this.editForm=this.fb.group({id:[""],description:[""],isActive:[!1]})}ngOnInit(){this.updateForm()}updateForm(){this.editForm.patchValue({id:this.eventType?.id,description:this.eventType?.description,isActive:this.eventType?.isActive})}previousState(){window.history.back()}save(){this.isSaving=!0;const t=this.createFromForm();this.subscribeToSaveResponse(void 0!==t.id?this.eventTypeService.update(t):this.eventTypeService.create(t))}createFromForm(){return{...new f,id:this.editForm.get(["id"]).value,description:this.editForm.get(["description"]).value,isActive:this.editForm.get(["isActive"]).value}}subscribeToSaveResponse(t){t.subscribe(()=>this.onSaveSuccess(),()=>this.onSaveError())}onSaveSuccess(){this.isSaving=!1,l.N.getInstance().dispatch("userListModification"),this.activeModal.close()}onSaveError(){this.isSaving=!1}cancel(){this.activeModal.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.c),e.Y36(v.gz),e.Y36(r.qu),e.Y36(p.Kz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["event-type-update"]],decls:18,vars:2,consts:[["name","editForm","role","form","novalidate","",3,"formGroup","ngSubmit"],[1,"modal-header"],["id","event-type-heading",2,"font-weight","bold"],[1,"modal-body","px-5"],[1,"form-group","col-md-8","py-2"],["for","field_description",1,"form-control-label"],["id","field_description","name","description","formControlName","description","type","text",1,"form-control"],["checked","",1,"form-check","form-switch","col-md-8","py-2"],["checked","","id","isActive","name","isActive","formControlName","isActive","type","checkbox",1,"form-check-input"],["for","isActive",1,"form-check-label"],[1,"modal-footer"],["type","button","id","cancel-save",1,"btn","btn-secondary",3,"click"],["type","submit","id","save-entity",1,"btn","btn-primary",3,"disabled"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(1,"div",1)(2,"h5",2),e._uU(3," Criar ou Editar um Tipo de Evento "),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"Descri\xe7\xe3o"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",7),e._UZ(10,"input",8),e.TgZ(11,"label",9),e._uU(12,"Ativo"),e.qZA()()(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return o.cancel()}),e._uU(15," Cancelar "),e.qZA(),e.TgZ(16,"button",12),e._uU(17," Salvar "),e.qZA()()()),2&t&&(e.Q6J("formGroup",o.editForm),e.xp6(16),e.Q6J("disabled",o.editForm.invalid||o.isSaving))},dependencies:[r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.sg,r.u],encapsulation:2}),n})();var y=c(6895);function g(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.confirmDelete(s.eventType.id))}),e.TgZ(1,"div",2)(2,"h4",3),e._uU(3,"Confirmar opera\xe7\xe3o de exclus\xe3o"),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cancel())}),e._uU(5," \xd7 "),e.qZA()(),e.TgZ(6,"div",5)(7,"p",6),e._uU(8," Tem certeza que deseja excluir este Tipo de Evento? "),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cancel())}),e._uU(11," Cancelar "),e.qZA(),e.TgZ(12,"button",9),e._uU(13," Excluir "),e.qZA()()()}}let b=(()=>{class n{constructor(t,o){this.eventTypeService=t,this.activeModal=o}cancel(){this.activeModal.dismiss()}confirmDelete(t){this.eventTypeService.delete(t).subscribe(()=>{l.N.getInstance().dispatch("userListModification"),this.activeModal.close()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.c),e.Y36(p.Kz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:1,consts:[["name","deleteForm",3,"ngSubmit",4,"ngIf"],["name","deleteForm",3,"ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],["id","delete-user-heading"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","confirm-delete-event-work","type","submit",1,"btn","btn-danger"]],template:function(t,o){1&t&&e.YNc(0,g,14,0,"form",0),2&t&&e.Q6J("ngIf",o.eventType)},dependencies:[r._Y,r.JL,r.F,y.O5],encapsulation:2}),n})();function _(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.update(a))}),e._uU(9," Editar "),e.qZA()(),e.TgZ(10,"td")(11,"button",12),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.delete(a))}),e._uU(12," Excluir "),e.qZA()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.isActive)}}const E=[{path:"",component:(()=>{class n{constructor(t,o){this.eventTypeService=t,this.modalService=o,this.entityName="event-type",this.eventTypes=[],this.isLoading=!0}ngOnInit(){this.loadTable$(),this.registerChangeInCategories()}registerChangeInCategories(){l.N.getInstance().register("userListModification",()=>{this.loadTable$()})}loadTable$(){this.isLoading=!0,this.eventTypeService.query().subscribe(t=>{this.isLoading=!1,this.eventTypes=t.body||[]})}create(){this.modalService.open(T,{size:"lg",backdrop:"static"})}update(t){this.modalService.open(T,{size:"lg",backdrop:"static"}).componentInstance.eventType=t}delete(t){this.modalService.open(b,{size:"lg",backdrop:"static"}).componentInstance.eventType=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.c),e.Y36(p.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["event-type"]],decls:20,vars:1,consts:[[1,"card","bg-transparent"],[1,"card-body"],[1,"card-header"],[1,"btn","btn-outline-success","text-white","fw-bolder",3,"click"],[1,"card-body","bg-transparent"],[1,"table","text-center","text-white","fw-bold","align-middle"],[1,"text-white"],[1,"table-primary"],["colspan","2"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-warning","text-white","buttons",3,"click"],["type","submit",1,"btn","btn-outline-danger","text-white","buttons",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"main",0)(1,"section",1)(2,"header",2)(3,"button",3),e.NdJ("click",function(){return o.create()}),e._uU(4," + Novo Tipo de Evento "),e.qZA()(),e.TgZ(5,"body",4)(6,"table",5)(7,"caption",6),e._uU(8," Lista Completa de Tipos de Evento "),e.qZA(),e.TgZ(9,"thead",7)(10,"tr")(11,"th"),e._uU(12,"Id"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Descri\xe7\xe3o"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Ativo"),e.qZA(),e._UZ(17,"th",8),e.qZA()(),e.TgZ(18,"tbody",9),e.YNc(19,_,13,3,"tr",10),e.qZA()()()()()),2&t&&(e.xp6(19),e.Q6J("ngForOf",o.eventTypes))},dependencies:[y.sg]}),n})(),data:{pageTitle:"EventType",reloadPage:"userListModification"}}];let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.m,r.UX,v.Bz.forChild(E)]}),n})()}}]);