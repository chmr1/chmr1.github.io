"use strict";(self.webpackChunkmyApp=self.webpackChunkmyApp||[]).push([[387],{1387:(J,f,a)=>{a.r(f),a.d(f,{EventWorkModule:()=>D});var v=a(646),s=a(433),Z=a(5245),W=a(515),g=a(9646),y=a(5577);class k{constructor(r,e,n,i,l,c,N,w,M){this.id=r,this.title=e,this.type=n,this.author=i,this.content=l,this.date=c,this.timeStart=N,this.timeEnd=w,this.status=M}}var p=a(9919),t=a(8256),_=a(2394),E=a(9393),T=a(529);let d=(()=>{class o{constructor(e){this.http=e,this.API_URL=`${_.v.apiUrl}/event-work`}query(e){const n=(0,E.b)(e);return this.http.get(`${this.API_URL}/`,{params:n,observe:"response"})}find(e){return this.http.get(`${this.API_URL}/${e}`,{observe:"response"})}create(e){return this.http.post(`${this.API_URL}/`,e,{observe:"response"})}update(e){return this.http.put(`${this.API_URL}/${e.id}`,e,{observe:"response"})}delete(e){return this.http.delete(`${this.API_URL}/${e}`,{observe:"response"})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(T.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var h=a(9837),C=a(5228),u=a(6895);function S(o,r){if(1&o&&(t.TgZ(0,"option",8),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.hij(" ",e.description," ")}}let m=(()=>{class o{constructor(e,n,i,l,c){this.eventWorkService=e,this.activatedRoute=n,this.fb=i,this.activeModal=l,this.eventTypeService=c,this.isSaving=!1,this.eventWorkTypes=[],this.editForm=this.fb.group({id:[""],type:[{}],title:[""],author:[""],content:[""],date:[new Date],timeStart:[""],timeEnd:[""],status:[""]})}ngOnInit(){this.updateForm(),this.eventTypeService.query().subscribe(e=>{this.eventWorkTypes=e.body||[]})}updateForm(){this.editForm.patchValue({id:this.eventWork?.id,type:this.eventWork?.type,title:this.eventWork?.title,author:this.eventWork?.author,content:this.eventWork?.content,date:this.eventWork?.date,timeStart:this.eventWork?.timeStart,timeEnd:this.eventWork?.timeEnd,status:this.eventWork?.status})}previousState(){window.history.back()}save(){this.isSaving=!0;const e=this.createFromForm();this.subscribeToSaveResponse(void 0!==e.id?this.eventWorkService.update(e):this.eventWorkService.create(e))}createFromForm(){return{...new k,id:this.editForm.get(["id"]).value,type:this.editForm.get(["type"]).value,title:this.editForm.get(["title"]).value,author:this.editForm.get(["author"]).value,content:this.editForm.get(["content"]).value,date:this.editForm.get(["date"]).value,timeStart:this.editForm.get(["timeStart"]).value,timeEnd:this.editForm.get(["timeEnd"]).value,status:this.editForm.get(["status"]).value}}trackById(e,n){return n.id}subscribeToSaveResponse(e){e.subscribe(()=>this.onSaveSuccess(),()=>this.onSaveError())}onSaveSuccess(){this.isSaving=!1,p.N.getInstance().dispatch("eventWorkListModification"),this.activeModal.close()}onSaveError(){this.isSaving=!1}cancel(){this.activeModal.dismiss()}compareEventType(e,n){return e&&n?e.id===n.id:e===n}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d),t.Y36(v.gz),t.Y36(s.qu),t.Y36(h.Kz),t.Y36(C.c))},o.\u0275cmp=t.Xpm({type:o,selectors:[["event-work-update"]],decls:44,vars:6,consts:[["name","editForm","role","form","novalidate","",3,"formGroup","ngSubmit"],[1,"modal-header"],["id","event-work-heading",2,"font-weight","bold"],[1,"modal-body"],[1,"row"],[1,"form-group","col-md-6"],["for","field_type",1,"form-control-label"],["id","field_type","name","type","formControlName","type",1,"form-control",3,"compareWith"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],["for","field_author",1,"form-control-label"],["type","text","name","author","id","field_author","formControlName","author",1,"form-control"],[1,"form-group","col-md-12"],["for","field_title",1,"form-control-label"],["type","text","name","title","id","field_title","formControlName","title",1,"form-control"],[1,"form-group","col-md-4"],["for","field_date",1,"form-control-label"],["type","date","name","date","id","field_date","formControlName","date",1,"form-control"],["for","field_timeStart",1,"form-control-label"],["type","time","name","timeStart","id","field_timeStart","formControlName","timeStart",1,"form-control"],["for","field_timeEnd",1,"form-control-label"],["type","time","name","timeEnd","id","field_timeEnd","formControlName","timeEnd",1,"form-control"],["for","field_resume",1,"form-control-label"],["name","resume","id","field_resume","formControlName","content","cols","30","rows","10",1,"form-control"],[1,"modal-footer"],["type","button","id","cancel-save",1,"btn","btn-secondary",3,"click"],["type","submit","id","save-entity",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return n.save()}),t.TgZ(1,"div",1)(2,"h5",2),t._uU(3," Criar ou Editar um Evento "),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),t._uU(8,"Tipo"),t.qZA(),t.TgZ(9,"select",7),t._UZ(10,"option",8),t.YNc(11,S,2,2,"option",9),t.qZA()(),t.TgZ(12,"div",5)(13,"label",10),t._uU(14,"Autor"),t.qZA(),t._UZ(15,"input",11),t.qZA()(),t.TgZ(16,"div",4)(17,"div",12)(18,"label",13),t._uU(19,"T\xedtulo"),t.qZA(),t._UZ(20,"input",14),t.qZA()(),t.TgZ(21,"div",4)(22,"div",15)(23,"label",16),t._uU(24,"Data"),t.qZA(),t._UZ(25,"input",17),t.qZA(),t.TgZ(26,"div",15)(27,"label",18),t._uU(28,"In\xedcio"),t.qZA(),t._UZ(29,"input",19),t.qZA(),t.TgZ(30,"div",15)(31,"label",20),t._uU(32,"Fim"),t.qZA(),t._UZ(33,"input",21),t.qZA()(),t.TgZ(34,"div",4)(35,"div",12)(36,"label",22),t._uU(37,"Resumo"),t.qZA(),t._UZ(38,"textarea",23),t.qZA()()(),t.TgZ(39,"div",24)(40,"button",25),t.NdJ("click",function(){return n.cancel()}),t._uU(41," Cancel "),t.qZA(),t.TgZ(42,"button",26),t.NdJ("click",function(){return n.save()}),t._uU(43," Save "),t.qZA()()()),2&e&&(t.Q6J("formGroup",n.editForm),t.xp6(9),t.Q6J("compareWith",n.compareEventType),t.xp6(1),t.Q6J("ngValue",null),t.xp6(1),t.Q6J("ngForOf",n.eventWorkTypes)("ngForTrackBy",n.trackById),t.xp6(31),t.Q6J("disabled",n.editForm.invalid||n.isSaving))},dependencies:[s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,u.sg,s.sg,s.u],encapsulation:2}),o})();function U(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.confirmDelete(i.eventWork.id))}),t.TgZ(1,"div",2)(2,"h4",3),t._uU(3,"Confirmar opera\xe7\xe3o de exclus\xe3o"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cancel())}),t._uU(5," \xd7 "),t.qZA()(),t.TgZ(6,"div",5)(7,"p",6),t._uU(8," Tem certeza que deseja excluir este Evento? "),t.qZA()(),t.TgZ(9,"div",7)(10,"button",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cancel())}),t._uU(11," Cancelar "),t.qZA(),t.TgZ(12,"button",9),t._uU(13," Excluir "),t.qZA()()()}}let A=(()=>{class o{constructor(e,n){this.eventWorkService=e,this.activeModal=n}cancel(){this.activeModal.dismiss()}confirmDelete(e){this.eventWorkService.delete(e).subscribe(()=>{p.N.getInstance().dispatch("eventWorkListModification"),this.activeModal.close()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d),t.Y36(h.Kz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:1,vars:1,consts:[["name","deleteForm",3,"ngSubmit",4,"ngIf"],["name","deleteForm",3,"ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],["id","delete-event-work-heading"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","confirm-delete-event-work","type","submit",1,"btn","btn-danger"]],template:function(e,n){1&e&&t.YNc(0,U,14,0,"form",0),2&e&&t.Q6J("ngIf",n.eventWork)},dependencies:[s._Y,s.JL,s.F,u.O5],encapsulation:2}),o})();function F(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td")(11,"button",11),t._uU(12,"Conte\xfado"),t.qZA()(),t.TgZ(13,"td")(14,"button",12),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.update(l))}),t._uU(15," Editar "),t.qZA()(),t.TgZ(16,"td")(17,"button",13),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.delete(l))}),t._uU(18," Excluir "),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(t.xi3(3,6,e.date,"dd/MM/yy")),t.xp6(3),t.AsE("",e.title," (",null==e.type?null:e.type.description,")"),t.xp6(2),t.AsE("",e.timeStart," \xe0s ",e.timeEnd,""),t.xp6(2),t.Oqu(e.author)}}let x=(()=>{class o{constructor(e,n){this.eventWorkService=e,this.modalService=n,this.entityName="event-work",this.eventWorks=[],this.isLoading=!0}ngOnInit(){this.loadTable$(),this.registerChangeInCategories()}ngOnDestroy(){}registerChangeInCategories(){p.N.getInstance().register("eventWorkListModification",()=>{this.loadTable$()})}loadTable$(){this.isLoading=!0,this.eventWorkService.query().subscribe(e=>{this.isLoading=!1,this.eventWorks=e.body||[]})}create(){this.modalService.open(m,{size:"lg",backdrop:"static"})}update(e){this.modalService.open(m,{size:"lg",backdrop:"static"}).componentInstance.eventWork=e}delete(e){this.modalService.open(A,{size:"lg",backdrop:"static"}).componentInstance.eventWork=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d),t.Y36(h.FF))},o.\u0275cmp=t.Xpm({type:o,selectors:[["event-work"]],decls:22,vars:1,consts:[[1,"card","bg-transparent"],[1,"card-body"],[1,"card-header"],["id","create-entity","title","Create",1,"btn","btn-outline-success","text-white","fw-bolder",3,"click"],[1,"card-body","bg-transparent"],[1,"table","text-center","text-white","fw-bold","align-middle"],[1,"text-white"],[1,"table-primary"],["colspan","3"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-info","text-white"],["type","submit","title","Editar",1,"btn","btn-outline-warning","text-white",3,"click"],["type","submit","title","Excluir",1,"btn","btn-outline-danger","text-white",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"main",0)(1,"section",1)(2,"header",2)(3,"button",3),t.NdJ("click",function(){return n.create()}),t._uU(4," + Nova Reuni\xe3o "),t.qZA()(),t.TgZ(5,"body",4)(6,"table",5)(7,"caption",6),t._uU(8," Lista Completa de Reuni\xf5es "),t.qZA(),t.TgZ(9,"thead",7)(10,"tr")(11,"th"),t._uU(12,"Data"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"T\xedtulo"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Hor\xe1rio"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Autor"),t.qZA(),t._UZ(19,"th",8),t.qZA()(),t.TgZ(20,"tbody",9),t.YNc(21,F,19,9,"tr",10),t.qZA()()()()()),2&e&&(t.xp6(21),t.Q6J("ngForOf",n.eventWorks))},dependencies:[u.sg,u.uU],styles:["main[_ngcontent-%COMP%]{height:85vh}.buttons[_ngcontent-%COMP%]{width:25%}"]}),o})(),b=(()=>{class o{constructor(e,n){this.eventWorkService=e,this.router=n}resolve(e){const n=e.params.id;return n?this.eventWorkService.find(n).pipe((0,y.z)(i=>i.body?(0,g.of)(i.body):(this.router.navigate(["404"]),W.E))):(0,g.of)(new k)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(d),t.LFG(v.F0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const q=[{path:"",component:x,data:{pageTitle:"Event Work",reloadPage:"eventWorkListModification"}},{path:"new",component:m,resolve:{eventWork:b},data:{pageTitle:"Event Work"}},{path:":id/edit",component:m,resolve:{eventWork:b},data:{pageTitle:"Event Work"}}];let D=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[Z.m,s.UX,v.Bz.forChild(q)]}),o})()}}]);