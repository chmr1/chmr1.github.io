"use strict";(self.webpackChunkmyApp=self.webpackChunkmyApp||[]).push([[829],{2829:(w,p,n)=>{n.r(p),n.d(p,{UserModule:()=>F});var h=n(646),a=n(433),v=n(5245),l=n(9919);class b{constructor(r,t,s,i){this.id=r,this.name=t,this.email=s,this.password=i}}var e=n(8256),U=n(2394),_=n(9393),Z=n(529);let u=(()=>{class o{constructor(t){this.http=t,this.API_URL=`${U.v.apiUrl}/user`}query(t){const s=(0,_.b)(t);return this.http.get(`${this.API_URL}/`,{params:s,observe:"response"})}find(t){return this.http.get(`${this.API_URL}/${t}`,{observe:"response"})}create(t){return this.http.post(`${this.API_URL}/`,t,{observe:"response"})}update(t){return this.http.put(`${this.API_URL}/${t.id}`,t,{observe:"response"})}delete(t){return this.http.delete(`${this.API_URL}/${t}`,{observe:"response"})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Z.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var d=n(9837);let f=(()=>{class o{constructor(t,s,i,c){this.userService=t,this.activatedRoute=s,this.fb=i,this.activeModal=c,this.isSaving=!1,this.editForm=this.fb.group({id:[""],name:[""],email:[""],password:[""]})}ngOnInit(){this.updateForm()}updateForm(){this.editForm.patchValue({id:this.user?.id,name:this.user?.name,email:this.user?.email,password:this.user?.password})}previousState(){window.history.back()}save(){this.isSaving=!0;const t=this.createFromForm();this.subscribeToSaveResponse(void 0!==t.id?this.userService.update(t):this.userService.create(t))}createFromForm(){return{...new b,id:this.editForm.get(["id"]).value,name:this.editForm.get(["name"]).value,email:this.editForm.get(["email"]).value,password:this.editForm.get(["password"]).value}}subscribeToSaveResponse(t){t.subscribe(()=>this.onSaveSuccess(),()=>this.onSaveError())}onSaveSuccess(){this.isSaving=!1,l.N.getInstance().dispatch("userListModification"),this.activeModal.close()}onSaveError(){this.isSaving=!1}cancel(){this.activeModal.dismiss()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u),e.Y36(h.gz),e.Y36(a.qu),e.Y36(d.Kz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["user-update"]],decls:22,vars:2,consts:[["name","editForm","role","form","novalidate","",3,"formGroup","ngSubmit"],[1,"modal-header"],["id","event-work-heading",2,"font-weight","bold"],[1,"modal-body","px-5"],[1,"form-group","col-md-8","py-2"],["for","field_name",1,"form-control-label"],["id","field_name","name","name","formControlName","name","type","text",1,"form-control"],["id","field_email","name","email","formControlName","email","type","email",1,"form-control"],["for","field_password",1,"form-control-label"],["id","field_password","name","password","formControlName","password","type","password",1,"form-control"],[1,"modal-footer"],["type","button","id","cancel-save",1,"btn","btn-secondary",3,"click"],["type","submit","id","save-entity",1,"btn","btn-primary",3,"disabled"]],template:function(t,s){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return s.save()}),e.TgZ(1,"div",1)(2,"h5",2),e._uU(3," Criar ou Editar um Usu\xe1rio "),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"Nome"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",4)(10,"label",5),e._uU(11,"E-mail"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",4)(14,"label",8),e._uU(15,"Password"),e.qZA(),e._UZ(16,"input",9),e.qZA()(),e.TgZ(17,"div",10)(18,"button",11),e.NdJ("click",function(){return s.cancel()}),e._uU(19," Cancelar "),e.qZA(),e.TgZ(20,"button",12),e._uU(21," Salvar "),e.qZA()()()),2&t&&(e.Q6J("formGroup",s.editForm),e.xp6(20),e.Q6J("disabled",s.editForm.invalid||s.isSaving))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2}),o})();var g=n(6895);function C(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.confirmDelete(i.user.id))}),e.TgZ(1,"div",2)(2,"h4",3),e._uU(3,"Confirmar opera\xe7\xe3o de exclus\xe3o"),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e._uU(5," \xd7 "),e.qZA()(),e.TgZ(6,"div",5)(7,"p",6),e._uU(8,"Tem certeza que deseja excluir este Usu\xe1rio?"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e._uU(11," Cancelar "),e.qZA(),e.TgZ(12,"button",9),e._uU(13," Excluir "),e.qZA()()()}}let T=(()=>{class o{constructor(t,s){this.userService=t,this.activeModal=s}cancel(){this.activeModal.dismiss()}confirmDelete(t){this.userService.delete(t).subscribe(()=>{l.N.getInstance().dispatch("userListModification"),this.activeModal.close()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u),e.Y36(d.Kz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:1,vars:1,consts:[["name","deleteForm",3,"ngSubmit",4,"ngIf"],["name","deleteForm",3,"ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],["id","delete-user-heading"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","confirm-delete-event-work","type","submit",1,"btn","btn-danger"]],template:function(t,s){1&t&&e.YNc(0,C,14,0,"form",0),2&t&&e.Q6J("ngIf",s.user)},dependencies:[a._Y,a.JL,a.F,g.O5],encapsulation:2}),o})();function S(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",11),e.NdJ("click",function(){const c=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.update(c))}),e._uU(9," Editar "),e.qZA()(),e.TgZ(10,"td")(11,"button",12),e.NdJ("click",function(){const c=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.delete(c))}),e._uU(12," Excluir "),e.qZA()()()}if(2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.email)}}const A=[{path:"",component:(()=>{class o{constructor(t,s){this.userService=t,this.modalService=s,this.entityName="user",this.users=[],this.isLoading=!0}ngOnInit(){this.loadTable$(),this.registerChangeInCategories()}registerChangeInCategories(){l.N.getInstance().register("userListModification",()=>{this.loadTable$()})}loadTable$(){this.isLoading=!0,this.userService.query().subscribe(t=>{this.isLoading=!1,this.users=t.body||[]})}create(){this.modalService.open(f,{size:"lg",backdrop:"static"})}update(t){this.modalService.open(f,{size:"lg",backdrop:"static"}).componentInstance.user=t}delete(t){this.modalService.open(T,{size:"lg",backdrop:"static"}).componentInstance.user=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u),e.Y36(d.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["user"]],decls:20,vars:1,consts:[[1,"card","bg-transparent"],[1,"card-body"],[1,"card-header"],[1,"btn","btn-outline-success","text-white","fw-bolder",3,"click"],[1,"card-body","bg-transparent"],[1,"table","text-center","text-white","fw-bold","align-middle"],[1,"text-white"],[1,"table-primary"],["colspan","2"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-warning","text-white","buttons",3,"click"],["type","submit",1,"btn","btn-outline-danger","text-white","buttons",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"main",0)(1,"section",1)(2,"header",2)(3,"button",3),e.NdJ("click",function(){return s.create()}),e._uU(4," + Novo Usu\xe1rio "),e.qZA()(),e.TgZ(5,"body",4)(6,"table",5)(7,"caption",6),e._uU(8," Lista Completa de Usu\xe1rios "),e.qZA(),e.TgZ(9,"thead",7)(10,"tr")(11,"th"),e._uU(12,"Id"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Nome"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"E-mail"),e.qZA(),e._UZ(17,"th",8),e.qZA()(),e.TgZ(18,"tbody",9),e.YNc(19,S,13,3,"tr",10),e.qZA()()()()()),2&t&&(e.xp6(19),e.Q6J("ngForOf",s.users))},dependencies:[g.sg],styles:["main[_ngcontent-%COMP%]{height:85vh}.buttons[_ngcontent-%COMP%]{width:25%}"]}),o})(),data:{pageTitle:"User",reloadPage:"userListModification"}}];let F=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[v.m,a.UX,h.Bz.forChild(A)]}),o})()}}]);